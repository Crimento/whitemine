import{t as s,y as a,z as k,A as S,B as y,s as f,C as b,E as $,G as v,H as _,r as h,w as x,v as o,L as C,u as d,I as M,J as z}from"./vendor.7dbc2f53.js";var m=(e,t)=>{const n=e.__vccOpts||e;for(const[l,u]of t)n[l]=u;return n};function p(e){e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}const L={mounted(){var e;this.$store.commit("setDarkMode",(e=this.$bNormalizer(this.$cookie.getCookie("dark_mode")))!=null?e:!0),p(this.$store.state.darkMode)},computed:{darkMode(){return this.$store.state.darkMode}},watch:{darkMode(e){this.$cookie.setCookie("dark_mode",e),p(e)}}},A={class:"h-screen max-h-screen flex"};function j(e,t,n,l,u,r){return s(),a("div",A,[k(e.$slots,"default")])}var B=m(L,[["render",j]]);const D={class:"h-full w-full flex flex-row-reverse items-center justify-center"},E={key:0,class:"text-right grow mx-3"},w={props:{config:{type:Object,default(){return{link:"#",imgLink:null,icon:"circle-question",text:"Placeholder"}}}},setup(e){const t=S();let n=y(()=>t.getters.sidebarStatus);return(l,u)=>{var c,i;const r=f("font-awesome-icon");return s(),a("div",D,[b(n)?(s(),a("span",E,$((c=e.config.text)!=null?c:"Placeholder"),1)):v("",!0),e.config.imgLink!=null?(s(),a("img",{key:1,style:{width:"50px"},class:_(["rounded-lg py-1",e.config.sidebarStatus?"p-1":""]),src:"http://pm1.narvii.com/7616/bc3b22a89815985dc74b830a01ad331c0d3e9f86r1-768-768v2_uhq.jpg",alt:""},null,2)):(s(),h(r,{key:2,class:_(b(n)?"p-3":""),size:"2x",icon:["fas",(i=e.config.icon)!=null?i:"circle-question"]},null,8,["class","icon"]))])}}},O={props:{config:Object},setup(e){return(t,n)=>{var l;return s(),h(b(C),{href:(l=e.config.link)!=null?l:"#",class:"btn btn-ghost p-1"},{default:x(()=>[o(w,{config:e.config},null,8,["config"])]),_:1},8,["href"])}}},q={},N={class:"my-2 border-1 border-base-content"};function R(e,t){return s(),a("hr",N)}var F=m(q,[["render",R]]);const T={class:"btn btn-ghost p-1"},V={props:{config:Object},setup(e){return(t,n)=>(s(),a("button",T,[o(w,{config:e.config},null,8,["config"])]))}};const I={components:{SidebarLink:O,SidebarDivider:F,SidebarButton:V},mounted(){var e;this.$nextTick(()=>{window.addEventListener("resize",this.onResize),this.onResize()}),this.$store.commit("forceSidebar",(e=this.$bNormalizer(this.$cookie.getCookie("sidebar_status")))!=null?e:null)},computed:{sidebarStatus(){return this.$store.getters.sidebarStatus}},watch:{sidebarStatus(e){}},methods:{onResize(){this.$store.state.sidebarForceOpened===null&&(window.innerWidth>960?this.$store.commit("changeSidebar",!0):this.$store.commit("changeSidebar",!1))},forceClick(){this.$cookie.setCookie("sidebar_status",!this.sidebarStatus),this.$store.commit("forceSidebar",!this.sidebarStatus)},enableDarkMode(){this.$store.commit("setDarkMode",!this.$store.state.darkMode)}},beforeUnmount(){window.removeEventListener("resize",this.onResize)}},P=d("div",{class:"grow"},null,-1);function G(e,t,n,l,u,r){const c=f("sidebar-link"),i=f("sidebar-divider"),g=f("sidebar-button");return s(),a("div",{class:_(["bg-base-300 text-base-content main-sidebar flex flex-col overflow-hidden",r.sidebarStatus?"sidebar-expanded":"sidebar-collapsed"])},[e.$page.props.auth.user?(s(),h(c,{key:0,config:{icon:"circle-user",text:e.$page.props.auth.user.username,link:"/profile"}},null,8,["config"])):(s(),h(c,{key:1,config:{icon:"circle-user",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F/\u0412\u0445\u043E\u0434",link:"/login"}})),o(i),o(c,{config:{icon:"home",text:"\u0414\u043E\u043C\u043E\u0439",link:"/"}}),o(c,{config:{icon:"newspaper",text:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438",link:"/news"}}),P,o(i),o(g,{config:{icon:this.$store.state.darkMode?"sun":"moon",text:"\u0422\u0451\u043C\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C"},onClick:r.enableDarkMode},null,8,["config","onClick"]),o(i),o(g,{config:{icon:r.sidebarStatus?"chevron-left":"chevron-right",text:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C"},onClick:r.forceClick},null,8,["config","onClick"])],2)}var H=m(I,[["render",G]]);function J(e){switch(e){case"success":return"circle-check";case"error":return"triangle-exclamation";case"info":return"circle-info";default:return"circle-question"}}const U={data(){return{visible:!1}},computed:{messages(){let e=[];for(const[t,n]of Object.entries(this.$page.props.flash))n!=null&&e.push({type:t,text:n,icon:J(t)});return e}},watch:{"messages.length":{handler(e){e>0&&(this.visible=!0)},immediate:!0}},methods:{closeAlert(){this.visible=!1}}},W={key:0,class:"p-3 flex"},K={class:"grow"},Q={class:"flex w-full"};function X(e,t,n,l,u,r){const c=f("font-awesome-icon");return u.visible?(s(),a("div",W,[d("div",K,[(s(!0),a(M,null,z(r.messages,i=>(s(),a("div",{class:_(["alert","alert-"+i.type])},[d("div",Q,[o(c,{icon:["fas",i.icon]},null,8,["icon"]),d("span",null,$(i.text),1)])],2))),256))]),d("button",{class:"btn btn-square btn-ghost ml-auto",onClick:t[0]||(t[0]=(...i)=>r.closeAlert&&r.closeAlert(...i))},[o(c,{icon:["fas","times"]})])])):v("",!0)}var Y=m(U,[["render",X]]);const Z={class:"grow bg-neutral"},ee={class:"flex flex-col h-full"},se={setup(e){return(t,n)=>(s(),h(B,null,{default:x(()=>[o(H),d("div",Z,[d("div",ee,[o(Y),k(t.$slots,"default",{class:"grow"})])])]),_:3}))}};export{m as _,se as a};
