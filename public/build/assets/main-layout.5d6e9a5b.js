import{o as s,e as c,f as $,u as S,g as y,r as h,h as _,t as v,i as g,n as m,c as d,w,b as i,L as C,a as u,F as M,j as z}from"./main.32d597a0.js";var p=(e,t)=>{const o=e.__vccOpts||e;for(const[l,f]of t)o[l]=f;return o};function k(e){e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}const L={mounted(){var e;this.$store.commit("setDarkMode",(e=this.$bNormalizer(this.$cookie.getCookie("dark_mode")))!=null?e:!0),k(this.$store.state.darkMode)},computed:{darkMode(){return this.$store.state.darkMode}},watch:{darkMode(e){this.$cookie.setCookie("dark_mode",e),k(e)}}},j={class:"h-screen max-h-screen flex"};function A(e,t,o,l,f,r){return s(),c("div",j,[$(e.$slots,"default")])}var D=p(L,[["render",A]]);const O={class:"h-full w-full flex flex-row-reverse items-center justify-center"},B={key:0,class:"text-right grow mx-3"},E=["src"],x={props:{config:{type:Object,default(){return{link:"#",imgLink:null,icon:"circle-question",text:"Placeholder"}}}},setup(e){const t=S();let o=y(()=>t.getters.sidebarStatus);return(l,f)=>{var a,n;const r=h("font-awesome-icon");return s(),c("div",O,[_(o)?(s(),c("span",B,v((a=e.config.text)!=null?a:"Placeholder"),1)):g("",!0),e.config.imgLink!=null?(s(),c("img",{key:1,style:{width:"50px"},class:m(e.config.sidebarStatus?"p-1":""),src:e.config.imgLink,alt:""},null,10,E)):(s(),d(r,{key:2,class:m(_(o)?"p-3":""),size:"2x",icon:["fas",(n=e.config.icon)!=null?n:"circle-question"]},null,8,["class","icon"]))])}}},N={props:{config:Object},setup(e){return(t,o)=>{var l;return s(),d(_(C),{href:(l=e.config.link)!=null?l:"#",class:m(["btn btn-ghost p-1",{"btn-active":t.$page.url===e.config.link}])},{default:w(()=>[i(x,{config:e.config},null,8,["config"])]),_:1},8,["href","class"])}}},q={},F={class:"my-2 border-1 border-base-content"};function R(e,t){return s(),c("hr",F)}var T=p(q,[["render",R]]);const V={class:"btn btn-ghost p-1"},P={props:{config:Object},setup(e){return(t,o)=>(s(),c("button",V,[i(x,{config:e.config},null,8,["config"])]))}};const I={components:{SidebarLink:N,SidebarDivider:T,SidebarButton:P},mounted(){var e;this.$nextTick(()=>{window.addEventListener("resize",this.onResize),this.onResize()}),this.$store.commit("forceSidebar",(e=this.$bNormalizer(this.$cookie.getCookie("sidebar_status")))!=null?e:null)},computed:{sidebarStatus(){return this.$store.getters.sidebarStatus}},watch:{sidebarStatus(e){}},methods:{onResize(){this.$store.state.sidebarForceOpened===null&&(window.innerWidth>960?this.$store.commit("changeSidebar",!0):this.$store.commit("changeSidebar",!1))},forceClick(){this.$cookie.setCookie("sidebar_status",!this.sidebarStatus),this.$store.commit("forceSidebar",!this.sidebarStatus)},enableDarkMode(){this.$store.commit("setDarkMode",!this.$store.state.darkMode)}},beforeUnmount(){window.removeEventListener("resize",this.onResize)}},U=u("div",{class:"grow"},null,-1);function W(e,t,o,l,f,r){const a=h("sidebar-link"),n=h("sidebar-divider"),b=h("sidebar-button");return s(),c("div",{class:m(["bg-neutral text-neutral-content main-sidebar flex flex-col overflow-hidden",r.sidebarStatus?"sidebar-expanded":"sidebar-collapsed"])},[e.$page.props.auth.user?(s(),d(a,{key:0,config:{imgLink:e.$page.props.auth.user.skin_set?"/storage/skins/"+e.$page.props.auth.user.username+".head.png?"+e.$page.props.auth.user.updated_at:"/storage/defaulthead.png",text:e.$page.props.auth.user.username,link:e.route("profile")}},null,8,["config"])):(s(),d(a,{key:1,config:{icon:"circle-user",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F/\u0412\u0445\u043E\u0434",link:e.route("profile")}},null,8,["config"])),i(n),i(a,{config:{icon:"home",text:"\u0414\u043E\u043C\u043E\u0439",link:e.route("home")}},null,8,["config"]),i(a,{config:{icon:"newspaper",text:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438",link:e.route("news")}},null,8,["config"]),U,e.$page.props.auth.user&&e.$page.props.auth.user.is_admin?(s(),d(n,{key:2})):g("",!0),e.$page.props.auth.user&&e.$page.props.auth.user.is_admin?(s(),d(a,{key:3,config:{icon:"list",text:"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u044F\u043C\u0438",link:e.route("news.admin")}},null,8,["config"])):g("",!0),i(n),i(b,{config:{icon:this.$store.state.darkMode?"sun":"moon",text:"\u0422\u0451\u043C\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C"},onClick:r.enableDarkMode},null,8,["config","onClick"]),i(n),i(b,{config:{icon:r.sidebarStatus?"chevron-left":"chevron-right",text:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C"},onClick:r.forceClick},null,8,["config","onClick"])],2)}var G=p(I,[["render",W]]);function H(e){switch(e){case"success":return"circle-check";case"error":return"triangle-exclamation";case"info":return"circle-info";default:return"circle-question"}}const J={data(){return{visible:!1}},computed:{messages(){let e=[];for(const[t,o]of Object.entries(this.$page.props.flash))o!=null&&e.push({type:t,class:"alert-"+t,text:o,icon:H(t)});return e}},watch:{"messages.length":{handler(e){e>0&&(this.visible=!0),e==0&&(this.visible=!1)},immediate:!0}},methods:{closeAlert(){this.visible=!1}}},K={key:0,class:"p-3 flex"},Q={class:"grow"},X={class:"flex w-full"};function Y(e,t,o,l,f,r){const a=h("font-awesome-icon");return f.visible?(s(),c("div",K,[u("div",Q,[(s(!0),c(M,null,z(r.messages,n=>(s(),c("div",{class:m(["alert shadow-lg",n.class])},[u("div",X,[i(a,{icon:["fas",n.icon]},null,8,["icon"]),u("span",null,v(n.text),1)])],2))),256))]),u("button",{class:"btn btn-square btn-ghost ml-auto",onClick:t[0]||(t[0]=(...n)=>r.closeAlert&&r.closeAlert(...n))},[i(a,{icon:["fas","times"]})])])):g("",!0)}var Z=p(J,[["render",Y]]);const ee={class:"grow bg-base-100"},te={class:"flex flex-col h-full"},se={class:"grow overflow-scroll"},ne={setup(e){return(t,o)=>(s(),d(D,null,{default:w(()=>[i(G),u("div",ee,[u("div",te,[i(Z),u("div",se,[$(t.$slots,"default")])])])]),_:3}))}};export{p as _,ne as a};
