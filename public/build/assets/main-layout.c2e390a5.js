import{o as s,b as c,r as $,u as S,d as y,e as h,f as p,t as v,g as _,n as m,c as u,w,h as o,L as C,a as d,F as M,i as z}from"./main.11000399.js";var g=(e,t)=>{const n=e.__vccOpts||e;for(const[l,f]of t)n[l]=f;return n};function k(e){e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}const L={mounted(){var e;this.$store.commit("setDarkMode",(e=this.$bNormalizer(this.$cookie.getCookie("dark_mode")))!=null?e:!0),k(this.$store.state.darkMode)},computed:{darkMode(){return this.$store.state.darkMode}},watch:{darkMode(e){this.$cookie.setCookie("dark_mode",e),k(e)}}},A={class:"h-screen max-h-screen flex"};function D(e,t,n,l,f,a){return s(),c("div",A,[$(e.$slots,"default")])}var O=g(L,[["render",D]]);const j={class:"h-full w-full flex flex-row-reverse items-center justify-center"},B={key:0,class:"text-right grow mx-3"},E=["src"],x={props:{config:{type:Object,default(){return{link:"#",imgLink:null,icon:"circle-question",text:"Placeholder"}}}},setup(e){const t=S();let n=y(()=>t.getters.sidebarStatus);return(l,f)=>{var r,i;const a=h("font-awesome-icon");return s(),c("div",j,[p(n)?(s(),c("span",B,v((r=e.config.text)!=null?r:"Placeholder"),1)):_("",!0),e.config.imgLink!=null?(s(),c("img",{key:1,style:{width:"50px"},class:m(e.config.sidebarStatus?"p-1":""),src:e.config.imgLink,alt:""},null,10,E)):(s(),u(a,{key:2,class:m(p(n)?"p-3":""),size:"2x",icon:["fas",(i=e.config.icon)!=null?i:"circle-question"]},null,8,["class","icon"]))])}}},N={props:{config:Object},setup(e){return(t,n)=>{var l;return s(),u(p(C),{href:(l=t.route(e.config.link))!=null?l:"#",class:m(["btn btn-ghost p-1",{"btn-disabled":t.route().current()==e.config.link}])},{default:w(()=>[o(x,{config:e.config},null,8,["config"])]),_:1},8,["href","class"])}}},q={},F={class:"my-2 border-1 border-base-content"};function R(e,t){return s(),c("hr",F)}var T=g(q,[["render",R]]);const V={class:"btn btn-ghost p-1"},P={props:{config:Object},setup(e){return(t,n)=>(s(),c("button",V,[o(x,{config:e.config},null,8,["config"])]))}};const I={components:{SidebarLink:N,SidebarDivider:T,SidebarButton:P},mounted(){var e;this.$nextTick(()=>{window.addEventListener("resize",this.onResize),this.onResize()}),this.$store.commit("forceSidebar",(e=this.$bNormalizer(this.$cookie.getCookie("sidebar_status")))!=null?e:null)},computed:{sidebarStatus(){return this.$store.getters.sidebarStatus}},watch:{sidebarStatus(e){}},methods:{onResize(){this.$store.state.sidebarForceOpened===null&&(window.innerWidth>960?this.$store.commit("changeSidebar",!0):this.$store.commit("changeSidebar",!1))},forceClick(){this.$cookie.setCookie("sidebar_status",!this.sidebarStatus),this.$store.commit("forceSidebar",!this.sidebarStatus)},enableDarkMode(){this.$store.commit("setDarkMode",!this.$store.state.darkMode)}},beforeUnmount(){window.removeEventListener("resize",this.onResize)}},U=d("div",{class:"grow"},null,-1);function W(e,t,n,l,f,a){const r=h("sidebar-link"),i=h("sidebar-divider"),b=h("sidebar-button");return s(),c("div",{class:m(["bg-neutral text-neutral-content main-sidebar flex flex-col overflow-hidden",a.sidebarStatus?"sidebar-expanded":"sidebar-collapsed"])},[e.$page.props.auth.user?(s(),u(r,{key:0,config:{imgLink:e.$page.props.auth.user.skin_set?"/storage/skins/"+e.$page.props.auth.user.username+".head.png?"+e.$page.props.auth.user.updated_at:"/storage/defaulthead.png",text:e.$page.props.auth.user.username,link:"profile"}},null,8,["config"])):(s(),u(r,{key:1,config:{icon:"circle-user",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F/\u0412\u0445\u043E\u0434",link:"login"}})),o(i),o(r,{config:{icon:"home",text:"\u0414\u043E\u043C\u043E\u0439",link:"home"}}),o(r,{config:{icon:"newspaper",text:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438",link:"news"}}),o(r,{config:{icon:"download",text:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C",link:"download"}}),U,e.$page.props.auth.user&&e.$page.props.auth.user.is_admin?(s(),u(i,{key:2})):_("",!0),e.$page.props.auth.user&&e.$page.props.auth.user.is_admin?(s(),u(r,{key:3,config:{icon:"list",text:"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u044F\u043C\u0438",link:"news.admin"}},null,8,["config"])):_("",!0),o(i),o(b,{config:{icon:this.$store.state.darkMode?"sun":"moon",text:"\u0422\u0451\u043C\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C"},onClick:a.enableDarkMode},null,8,["config","onClick"]),o(i),o(b,{config:{icon:a.sidebarStatus?"chevron-left":"chevron-right",text:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C"},onClick:a.forceClick},null,8,["config","onClick"])],2)}var G=g(I,[["render",W]]);function H(e){switch(e){case"success":return"circle-check";case"error":return"triangle-exclamation";case"info":return"circle-info";default:return"circle-question"}}const J={data(){return{visible:!1}},computed:{messages(){let e=[];for(const[t,n]of Object.entries(this.$page.props.flash))n!=null&&e.push({type:t,class:"alert-"+t,text:n,icon:H(t)});return e}},watch:{"messages.length":{handler(e){e>0&&(this.visible=!0),e==0&&(this.visible=!1)},immediate:!0}},methods:{closeAlert(){this.visible=!1}}},K={key:0,class:"p-3 flex"},Q={class:"grow"},X={class:"flex w-full"};function Y(e,t,n,l,f,a){const r=h("font-awesome-icon");return f.visible?(s(),c("div",K,[d("div",Q,[(s(!0),c(M,null,z(a.messages,i=>(s(),c("div",{class:m(["alert shadow-lg",i.class])},[d("div",X,[o(r,{icon:["fas",i.icon]},null,8,["icon"]),d("span",null,v(i.text),1)])],2))),256))]),d("button",{class:"btn btn-square btn-ghost ml-auto",onClick:t[0]||(t[0]=(...i)=>a.closeAlert&&a.closeAlert(...i))},[o(r,{icon:["fas","times"]})])])):_("",!0)}var Z=g(J,[["render",Y]]);const ee={class:"grow bg-base-100"},te={class:"flex flex-col h-full"},se={class:"grow overflow-scroll"},oe={setup(e){return(t,n)=>(s(),u(O,null,{default:w(()=>[o(G),d("div",ee,[d("div",te,[o(Z),d("div",se,[$(t.$slots,"default")])])])]),_:3}))}};export{oe as _,g as a};
